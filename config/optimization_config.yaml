# Walk-Forward Optimization Configuration

# Optimization Settings
optimization:
  # Algorithm selection: 'optuna', 'grid_search', 'random_search', 'bayesian'
  algorithm: 'optuna'
  
  # Number of trials for optimization
  n_trials: 100
  
  # Timeout in seconds (null for no timeout)
  timeout: null
  
  # Number of parallel jobs
  n_jobs: -1  # -1 uses all available cores
  
  # Random seed for reproducibility
  random_state: 42

# Walk-Forward Configuration
walk_forward:
  # Window type: 'anchored' or 'rolling'
  window_type: 'rolling'
  
  # Training period in months
  train_period_months: 12
  
  # Testing period in months
  test_period_months: 3
  
  # Step size in months (for rolling window)
  step_size_months: 3
  
  # Minimum data points required
  min_data_points: 252  # ~1 year of daily data

# Objective Functions
objectives:
  # Primary objective
  primary: 'sharpe_ratio'
  
  # Secondary objectives (for multi-objective optimization)
  secondary:
    - 'max_drawdown'
    - 'win_rate'
  
  # Objective weights (for weighted multi-objective)
  weights:
    sharpe_ratio: 0.5
    max_drawdown: 0.3
    win_rate: 0.2

# Parameter Space Bounds
# Format: [min, max, step] or [min, max] for continuous
parameter_bounds:
  # Entry parameters
  strongTrendMinScore: [0.5, 3.0, 0.1]
  weakTrendMinScore: [1.5, 5.0, 0.1]
  
  # Exit parameters
  stopLossPercent: [0.5, 5.0, 0.1]
  takeProfitPercent: [1.0, 10.0, 0.1]
  partialExitPercent: [0.5, 3.0, 0.1]
  trailingStopPercent: [0.3, 2.0, 0.1]
  
  # ADX parameters
  adxThreshold: [15, 30, 1]
  adxlen: [10, 20, 1]
  dilen: [10, 20, 1]
  
  # Indicator weights
  w_adx: [0.5, 2.0, 0.1]
  w_regime: [0.5, 2.0, 0.1]
  w_pivotTrend: [1.0, 3.0, 0.1]
  w_trendDuration: [0.5, 2.0, 0.1]
  w_mlSupertrend: [0.5, 2.0, 0.1]
  w_linregChannel: [0.5, 2.0, 0.1]
  w_pivotLevels: [0.5, 2.0, 0.1]

# Performance Constraints
constraints:
  # Minimum acceptable metrics
  min_sharpe_ratio: 0.5
  max_drawdown_percent: 30.0
  min_win_rate: 0.40
  min_trades: 20  # Minimum trades in test period

# Data Configuration
data:
  # Symbols to optimize
  symbols:
    - 'SPY'
    - 'QQQ'
  
  # Timeframe
  timeframe: '1d'  # Daily data
  
  # Data source
  source: 'yfinance'  # Options: 'yfinance', 'ccxt', 'csv'
  
  # Date range
  start_date: '2018-01-01'
  end_date: null  # null = today

# Efficiency Metrics
efficiency:
  # Calculate walk-forward efficiency ratio
  calculate_wfe: true
  
  # In-sample vs out-of-sample comparison
  compare_is_oos: true
  
  # Parameter stability tracking
  track_stability: true

# Reporting
reporting:
  # Save detailed results
  save_results: true
  
  # Results directory
  results_dir: 'results'
  
  # Generate plots
  generate_plots: true
  
  # Plot directory
  plots_dir: 'results/plots'
  
  # Save parameter evolution
  save_param_evolution: true
  
  # Export format: 'csv', 'json', 'pickle'
  export_format: ['csv', 'json']

# Logging
logging:
  # Log level: 'DEBUG', 'INFO', 'WARNING', 'ERROR'
  level: 'INFO'
  
  # Log to file
  log_to_file: true
  
  # Log file path
  log_file: 'logs/optimization.log'
  
  # Console output
  console_output: true
